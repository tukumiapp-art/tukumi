import{j as e}from"./ui-BndUj6rU.js";import{e as v,u as k,r}from"./vendor-C_rG9DFw.js";import{a as D,d as c}from"./index-gjDmyrly.js";import{o as C,D as u,j as f,k as S,M as E}from"./firebase-BaLQ-sp5.js";import{T}from"./TopBar-UEOhfdgU.js";const B=()=>{const{id:l}=v(),i=k(),[o,d]=r.useState("followers"),[x,g]=r.useState([]),[p,m]=r.useState(!0),[a,b]=r.useState(null);return r.useEffect(()=>{const s=C(D,t=>{t||i("/")});return()=>s()},[]),r.useEffect(()=>{l&&(async()=>{m(!0);try{const t=await u(f(c,"users",l));t.exists()&&b(t.data());const j=S(c,"users",l,o),w=(await E(j)).docs.map(async n=>{const N=n.id,h=await u(f(c,"users",N));return h.exists()?h.data():null}),y=await Promise.all(w);g(y.filter(n=>n!==null))}catch(t){console.error("Error fetching connections:",t)}finally{m(!1)}})()},[l,o]),e.jsxs("div",{className:"p-4 md:p-6 w-full max-w-[1000px] mx-auto",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(T,{})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>i(-1),className:"w-10 h-10 bg-white rounded-full shadow-sm flex items-center justify-center text-dark hover:bg-gray-50",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-dark",children:(a==null?void 0:a.displayName)||"User"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["@",(a==null?void 0:a.handle)||"username"]})]})]}),e.jsxs("div",{className:"flex bg-white rounded-2xl p-1 shadow-sm border border-gray-100 mb-6 max-w-md",children:[e.jsx("button",{onClick:()=>d("followers"),className:`flex-1 py-3 rounded-xl font-bold text-sm transition-all ${o==="followers"?"bg-dark text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:"Followers"}),e.jsx("button",{onClick:()=>d("following"),className:`flex-1 py-3 rounded-xl font-bold text-sm transition-all ${o==="following"?"bg-dark text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:"Following"})]}),e.jsx("div",{className:"bg-white rounded-[30px] shadow-sm min-h-[500px] p-6",children:p?e.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading..."}):x.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 text-2xl",children:e.jsx("i",{className:"fas fa-users-slash"})}),e.jsxs("p",{className:"text-gray-500 font-bold",children:["No ",o," found."]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(s=>e.jsxs("div",{onClick:()=>i(`/profile/${s.uid}`),className:"flex items-center gap-4 p-4 rounded-2xl border border-gray-50 hover:bg-gray-50 hover:border-gray-200 cursor-pointer transition-all group",children:[e.jsx("img",{src:s.photoURL||"https://via.placeholder.com/150",className:"w-14 h-14 rounded-xl object-cover shadow-sm",alt:s.displayName}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-dark truncate",children:s.displayName}),e.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:["@",s.handle]}),s.profession&&e.jsxs("p",{className:"text-xs text-primary mt-1 truncate",children:[e.jsx("i",{className:"fas fa-briefcase mr-1"})," ",s.profession]})]}),e.jsx("button",{className:"w-10 h-10 rounded-full bg-white border border-gray-100 text-gray-400 flex items-center justify-center group-hover:bg-primary group-hover:text-white group-hover:border-primary transition-colors shadow-sm",children:e.jsx("i",{className:"fas fa-angle-right"})})]},s.uid))})})]})};export{B as default};
